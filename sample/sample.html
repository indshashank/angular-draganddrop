<html ng-app="dragAndDrop">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>


  <style type="text/css">

    * {
      font-family: Arial;
    }

    section {
      border: 1px solid gray;
      border-radius: 5px;
    }

    li div {
      display: table-cell;
      vertical-align: top;
    }

  </style>

  <script type="text/ng-template" id="dragItemTemplate">
    <img src="{{data.url}}"/>
    <div style="position: absolute;top:0px;left: 0px;background: rgba(255,255,255,0.8);width: 100%">
      {{data.title}}
    </div>

  </script>


  <title></title>
</head>

<body>

<div ng-controller="SampleController">
  <section>
    <header>Drag section</header>
    <ul>
      <li ng-repeat="item in itemsDrag" drag drop-callback="endDrag($index)" drag-include="'dragItemTemplate'" drag-data="item">

        <div>
          <img src="{{item.url}}"/>
        </div>
        <div>
          <strong>{{item.title}}</strong>:<span>{{item.description}}</span>
        </div>
      </li>
    </ul>
  </section>


  <section drop drop-callback="endDrop">
    <header>Drop section</header>
    <ul>
      <li ng-repeat="item in itemsDrop">
        <div>
          <img src="{{item.url}}"/>
        </div>
        <div>
          <strong>{{item.title}}</strong>:<span>{{item.description}}</span>
        </div>
      </li>
    </ul>
  </section>
</div>


<div ng-controller="DragAndDropController">
  <div ng-repeat='(key, value) in items' ng-controller="DragAndDropItemController" ng-init="init(value.data)"
       style="position:absolute;visibility: hidden">
    <div style="width: 100%" ng-include src="value.include">
    </div>
  </div>
</div>


<script src="../bower_components/angular/angular.js"></script>
<script src="../src/draganddrop.js" type="application/javascript"></script>
<script type="application/javascript">



  function SampleController($scope, $http) {
    $scope.itemsDrag = [
      {title: "Meliphaga notata", description: "Le Méliphage marqué (Meliphaga notata) est une espèce de passereau de la famille des Meliphagidae.",
        url: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Meliphaga_notata_-_Daintree_Village.jpg/290px-Meliphaga_notata_-_Daintree_Village.jpg"},
      {title: "Meliphaga lewinii", description: "Le Méliphage de Lewin (Meliphaga lewinii) est une espèce de passereau de la famille des Meliphagidae. Il habite les montagnes le long de la côte est de l'Australie. Il a une tache semi-circulaire de couleur jaune pâle au niveau des oreilles.",
        url: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Lewins_Honeyeater_kobble_apr06.jpg/290px-Lewins_Honeyeater_kobble_apr06.jpg"},
      {title: "Meliphaga gracilis", description: "Le Méliphage gracile (Meliphaga gracilis) est une espèce de passereau de la famille des Meliphagidae.",
        url: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Meliphaga_gracilis_-_Julatten.jpg/290px-Meliphaga_gracilis_-_Julatten.jpg"}
    ];

    $scope.itemsDrop = [];


    $scope.endDrag = function (data) {
      $scope.itemsDrag.splice(data, 1);
    }

    $scope.endDrop = function (data) {
      $scope.itemsDrop.push(angular.copy(data));
    }

  }

</script>

</body>

</html>